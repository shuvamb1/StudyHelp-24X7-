<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>StudyHelp 24x7</title>
	<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B31J01CXSV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B31J01CXSV');
</script>
</head>
<body bgcolor="#e4e4ed">
    <header style="font-family:Gagalin">
        <div id="logo">üåê STUDYHELP 24X7</div>
    </header>
    <div class="fg" style="font-family:Gagalin;">
        <div class="column">
		<div id="logf" style="text-align:left;padding:40px 40px;"><center>
		 <h1>Sign Up</h1></center>
    <form id="signupForm">
        <label for="name">Name:</label>
        <input type="text" id="name" name="Name" required>
<br><br>
        <label for="roll">Roll:</label>
        <input type="number" id="roll" name="Roll" required>
<br><br>
        <label for="department">Dept:</label>
        <select id="department" name="Dept" required>
            <option value="">Select Department</option>
            <option value="Computer Science">Computer Science</option>
            <option value="Electronics">Microbiology</option>
            <option value="Mechanical">Mathamatics</option>
            <option value="Civil">Statistics</option>
        </select>
<br><br>
        <label for="year">Year:</label>
        <select id="year" name="Year" required>
            <option value="">Select Year</option>
            <option value="1">1st Year</option>
            <option value="2">2nd Year</option>
            <option value="3">3rd Year</option>
            <option value="4">4th Year</option>
        </select>
<br><br>
        <label for="cin">CIN No:</label>
        <input type="text" id="cin" name="CIN_No" required>
<br><br>
<div style="float:right;height:20%;width:30%">
        <button type="submit" style="font-family:Gagalin;color:white;">Submit</button>
    </div><br></form>
        </div>
    </div>
	</div>
	<script>
	document.getElementById('logo').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
document.getElementById('signupForm').addEventListener('submit', async function(e) {
  e.preventDefault();

  const data = {
    name: document.getElementById('name').value,
    roll: document.getElementById('roll').value,
    department: document.getElementById('department').value,
    year: document.getElementById('year').value,
    cin: document.getElementById('cin').value
  };

  try {
  const response = await fetch("http://localhost:5000/register", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  });

  const msg = await response.text();
  if (!response.ok) {
    alert("Error: " + msg);  // Show validation error
  } else {
    alert(msg);              // Show success message
    document.getElementById("signupForm").reset();
  }
} catch (error) {
  console.error(error);
  alert("‚ùå Network error");
}

});
	</script>
</body>
</html>
